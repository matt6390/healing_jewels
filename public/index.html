<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Healing Jewels</title>
  <!-- Firebase Scripts for Authentication and Picture Storage -->
  <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-storage.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyCA5LlFy9ebtEB9AsDnF9e5l5PnlE4HIeU",
      authDomain: "healing-jewels-1.firebaseapp.com",
      databaseURL: "https://healing-jewels-1.firebaseio.com",
      projectId: "healing-jewels-1",
      storageBucket: "healing-jewels-1.appspot.com",
      messagingSenderId: "698156961489"
    };
    firebase.initializeApp(config);
  </script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.css" />
  <script type="text/javascript">
        // FirebaseUI config.
        var uiConfig = {
          signInSuccessUrl: '/#/',
          signInOptions: [
            // Leave the lines as is for the providers you want to offer your users.
            firebase.auth.GoogleAuthProvider.PROVIDER_ID,
            // firebase.auth.FacebookAuthProvider.PROVIDER_ID,
            // firebase.auth.TwitterAuthProvider.PROVIDER_ID,
            // firebase.auth.GithubAuthProvider.PROVIDER_ID,
            firebase.auth.EmailAuthProvider.PROVIDER_ID,
            // firebase.auth.PhoneAuthProvider.PROVIDER_ID,
            // firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID
          ],
          // tosUrl and privacyPolicyUrl accept either url string or a callback
          // function.
          // Terms of service url/callback.
          tosUrl: '<your-tos-url>',
          // Privacy policy url/callback.
          privacyPolicyUrl: function() {
            window.location.assign('<your-privacy-policy-url>');
          }
        };

        // Initialize the FirebaseUI Widget using Firebase.
        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.
        ui.start('#firebaseui-auth-container', uiConfig);
  </script>
  <!-- Bootstrap Choco Scripts -->
  <meta content="" name="description">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="width=device-width" name="viewport">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <link href="img/favicon.png" rel="icon" type="image/png">
    <link href="https://fonts.googleapis.com/css?family=Dancing+Script%7CLato:300,400,700" rel="stylesheet">
  <link href="css/bootstrap-dark.css" rel="stylesheet">
  <link href="css/theme-dark.css" rel="stylesheet">
  <!-- <link id="pagestyle" href="css/theme-dark.css" rel="stylesheet"> -->
  <link rel="stylesheet" type="text/js" href="js/bundle.js">
  <link rel="stylesheet" type="text/js" href="js/main.js">
  <link rel="stylesheet" type="text/js" href="js/tt-cart.js">
  <!-- Vue/Bootstrap scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.js"></script>
  <script src="index.js" defer></script>
  <link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body>
  <div id="vue-app">
    <!-- Header -->
    <header>
      <div>
        <nav class="navbar navbar-fixed-top shadow" id="js-nav">
          <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-target="#myNavbar" data-toggle="collapse" aria-expanded="false">
                <span class="icon-bar"></span> 
                <span class="icon-bar"></span> 
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="#"> <img src="img/logo-white.png" alt="logo"> </a>
            </div>
            <div class="navbar-collapse collapse" id="myNavbar" aria-expanded="false" style="height: 1px;">
              <ul class="nav navbar-nav">
                <li data-target="#myNavbar" data-toggle="collapse" class="active"><a href="">home</a></li>
                <li data-target="#myNavbar" data-toggle="collapse"> <a href="#/login">Log In</a> </li>
                <li data-target="#myNavbar" data-toggle="collapse"> <a href="#/signup">Sign Up√è</a> </li>
                <li data-target="#myNavbar" data-toggle="collapse"> <a href="#/products">Products</a> </li>
                <li data-target="#myNavbar" data-toggle="collapse"> <a href="#/logout">Log Out</a>  </li>
                <li data-target="#myNavbar" data-toggle="collapse"> <a href="#/carts">Cart</a>  </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <router-view :key="$route.fullPath"></router-view >

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-4 col-md-push-4 text-center"> <img class="footer-logo" src="img/logo-white.png" alt="footer-logo">
                <div class="social">
                  <ul>
                    <li><a href="https://www.facebook.com/julie.b.dynek" target="_blank"><span class="ti-facebook"></span></a></li>
                    <li><a href="https://twitter.com/" target="_blank"><span class="ti-twitter-alt"></span></a></li>
                    <li><a href="http://linkedin.com/in/matthew-stone-dev" target="_blank"><span class="ti-linkedin"></span></a></li>
                    <li><a href="https://vimeo.com/" target="_blank"><span class="ti-vimeo-alt"></span></a></li>
                    <li><a href="http://youtube.com/" target="_blank"><span class="ti-youtube"></span></a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div class="row">
              <div class="col-md-4 col-md-offset-4 col-sm-12">
                <div class="footer-newsletter">
                  <div class="center text-center">
                    <h4>Enter your email here for a surprise!</h4>
                    <form action="#" method="post">
                      <div class="input-group">
                        <input class="form-control" type="text" placeholder="e-mail"> 
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" type="button"><span class="ti-arrow-right"></span></button>
                        </span>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </footer>

  </div>
</body>

</html>

<template id="home-page">
  <div class="vue-component">
    <section class="section home image-slider">
      <div class="col-md-12">
        <h3 class="section-heading">Featured Products</h3>
        <div class="carousel slide" id="carousel-example-generic" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carousel-example-generic" class="active"></li>
            <li data-target="#carousel-example-generic" class=""></li>
            <li data-target="#carousel-example-generic" class=""></li>
          </ol>
          <div class="carousel-inner" role="listbox">
            <div class="item active"> <img alt="First slide [900x500]" src="img/ring.png" data-holder-rendered="true"> <div class="carousel-caption">
              <div class="jumbotron" style="opacity: 0.5">
                <button class="button btn-primary">This is a demo button</button>
              </div>
            </div> </div>
            <div class="item"> <img alt="Second slide [900x500]" data-src="holder.js/900x500/auto/#666:#444/text:Second slide" src="img/necklace.png" data-holder-rendered="true"> </div>
            <div class="item"> <img alt="Third slide [900x500]" src="img/braclet.png" data-holder-rendered="true"> </div>
          </div>
          <a href="#carousel-example-generic" class="left carousel-control" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a>
          <a href="#carousel-example-generic" class="right carousel-control" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a>
        </div>
      </div>
    </section>

    <section class="section bg-black product">
      <div class="container overflow-hidden">
        <div class="row">
          <h2 class="products-title">Products</h2>
        </div>
        <div class="products-row">
          <div v-for="product in featuredProducts" class="card col-sm-4 col-md-4 col-lg-4">
            <a v-bind:href="'/#/products/' + product.id" >
              <img class="center img-thumbnail" v-bind:src="product.download_url"></img>
            </a>
            <div class="row">
              <h2 class="card-title">{{ product.name }}</h2>
            </div>
            <div class="row">
              <p class="card-text text-center"> {{ product.description }}</p>
              <p class="card-text text-center"> {{ product.price }}</p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <button v-on:click="shiftProductsLeft()" class="ftr-btn button btn-primary float-right"><span class="ti-angle-double-left"></span></button>
          </div>
          <div class="col-md-4"></div>
          <div class="col-md-4">
            <button v-on:click="shiftProductsRight()" class="button btn-primary"><span class="ti-angle-double-right"></span></button>
          </div>
        </div>

      </div>
    </section>
  
  </div>
</template>

<template id="log-in-page">
  <div class="vue-component">
    <section class="section">
      <div class="container">
      <h1>Login</h1>
      <ul>
        <li class="text-danger" v-for="error in errors">{{ error }}</li>
      </ul>
      <div class="form-group">
        <label>Email:</label>
        <input type="email" class="form-control" v-model="email">
      </div>
      <div class="form-group">
        <label>Password:</label>
        <input type="password" class="form-control" v-model="password">
      </div>
        <button class="btn btn-primary" v-on:click="submit()">Submit</button>
      </div>
      <div id="firebaseui-auth-container"></div>
    </section>
  </div>
</template>

<template id="products-page">
  <section class="section">
    <div class="vue-component">
      <div class="container">
        <div class="row row-border-btm">
          <div class="col-md-3"></div>
          <div class="col-md-9">
            <h2>View All Items: <span>
              <a href="#/products-create"><button class="button btn-primary">Add New Product</button></a>
            </span></h2>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <div class="widget widget-category shadow">
              <h3>Categories</h3>
              <ul>
                <li v-on:click="sortNecklaces()"><a><p>Necklaces<span class="widget-category-number">220</span></p></a></li>
                <li v-on:click="sortBracelets()"><a><p>Bracelets<span class="widget-category-number">220</span></p></a></li>
                <li v-on:click="sortEarrings()"><a><p>Earrings<span class="widget-category-number">220</span></p></a></li>
                <li v-on:click="sortRings()"><a><p>Rings<span class="widget-category-number">220</span></p></a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-10">
            <div v-for="product in allProducts" class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
              <div class="product-card" v-bind:href="'#/products/' + product.id">
                <a v-bind:href="'#/products/' + product.id">
                  <img class="center img-thumbnail" v-bind:src='product.download_url'></img>
                  <h3 class="product-name">{{ product.name }}</h3>
                </a>
              </div>
            </div>          
          </div>
        </div>
      </div> 
    </div>
  </section>
</template>

<template id="products-create-page">
  <div class="vue-component">
    <section class="section">
      <div class="container">
        <div class="row">
          <form class="col-md-4">
            <div class="form-group">
              <label>Name:</label>
              <input class="form-control" placeholder="Enter a name..." type="text" v-model="name">
            </div>
            <div class="form-group">
              <label>Description:</label>
              <input class="form-control" type="text" placeholder="Enter a description..." name="description" v-model="description">
            </div>
            <div class="form-group">
              <label>Category</label>
              <div class="category">
                <input type="radio" name="category" v-model="category" value="0">  Necklace </input>
                <input type="radio" name="category" v-model="category" value="1">  Bracelet </input>
                <input type="radio" name="category" v-model="category" value="2">  Earring </input>
                <input type="radio" name="category" v-model="category" value="3">  Ring </input>
              </div>
            </div>
            <div class="form-group">
              <label>Price</label>
              <input class="form-control" type="integer" placeholder="Expensive :)" name="price" v-model="price">
            </div>
            <div class="form-group">
              <label>Picture</label>
              <input class="form-control" id="productPicture" type="file" v-on:change="readURL()" name="productPicture">
            </div>
            <div class="progress">
              <div class="progress-bar progress-bar-striped" id="picProgressBar" role="progressbar" style="width:0%"></div>
            </div>
            <ul>
              <li v-for="error in errors" style="color:red"> {{ error }}</li>
            </ul>
            <button class="button btn-primary" type="button">
              <a v-on:click="createProduct()">Add New Product</a>
            </button>
            <input class="button btn-primary" type="reset">
          </form>
          <div class="col-md-6">
            <img id='previewPic' class="preview-img img-thumbnail" src="https://www.bristolgate.com/wp-content/uploads/2018/09/orionthemes-placeholder-image.png">
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<template id="products-update-page">
  <div class="vue-component">
    <section class="section">
      <div class="container">
        <h1>Update Your Product</h1>
        <div class="row">
          <form class="col-md-4">
            <div class="form-group">
              <label>Name:</label>
              <input class="form-control" placeholder="Enter a name..." type="text" v-model="newName">
            </div>
            <div class="form-group">
              <label>Description:</label>
              <input class="form-control" type="text" placeholder="Enter a description..." name="description" v-model="newDescription">
            </div>
            <div class="form-group">
              <label>Category</label>
              <div class="category">
                <input type="radio" id="Necklace" name="category" v-model="newCategory" value="0">  Necklace </input>
                <input type="radio" id="Bracelet" name="category" v-model="newCategory" value="1">  Bracelet </input>
                <input type="radio" id="Earring" name="category" v-model="newCategory" value="2">  Earring </input>
                <input type="radio" id="Ring" name="category" v-model="newCategory" value="3">  Ring </input>
              </div>
            </div>
            <div class="form-group">
              <label>Price</label>
              <input class="form-control" type="integer" placeholder="Expensive :)" name="price" v-model="newPrice">
            </div>
            <div class="form-group">
              <label>Picture</label>
              <input class="form-control" id="productPicture" type="file" v-on:change="readURL()" name="productPicture">
            </div>
            <div class="progress">
              <div class="progress-bar progress-bar-striped" id="picProgressBar" role="progressbar" style="width:0%"></div>
            </div>
            <ul>
              <li v-for="error in errors" style="color:red"> {{ error }}</li>
            </ul>
            <button class="button btn-primary" type="button">
              <a v-on:click="createProduct()">Add New Product</a>
            </button>
            <input class="button btn-primary" type="reset">
          </form>
          <div class="col-md-6">
            <img id='previewPic' class="preview-img img-thumbnail" v-bind:src="product.download_url" alt="No Image Found">
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<template id="products-show-page">
  <div class="vue-component">
    <section class="section">
      <div class="container">
        <h3>{{ message }}</h3>
        <div class="row">
          <div class="col-md-5">
            <img v-bind:src="product.download_url" class="preview-img product-show-img">
          </div> 
          <div class="col-md-7">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h2>{{ product.name }}  <span><button v-on:click="addToCart()" class="btn btn-cart">Add to Cart</button></span></h2>
              </div>
              <div class="panel-body">
                <p>{{ product.description }}</p>
                <p>Price: {{ product.price }}</p>
                <p v-if="product.category !== null">Category: {{ product.category }}</p>
                <a  v-bind:href="'#/products/' + product.id + '/update'"><button  class="btn btn-update">Update Product</button></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<template id="cart-page">
  <div class="vue-component">
  </div>
</template>

<template id="carts-page">
  <div class="vue-component">
    <section class="section">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <table v-if="cart['carted_products']" class="table table-striped shadow">
              <h3 class="cart-header">Your Shopping Cart</h3>
              <thead class="cart-head">
                <tr class="cart-row">
                  <th></th>
                  <th>Product:</th>
                  <th>Price/Item:</th>
                  <th>Amount:</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="cartedProduct in cart['carted_products']" class="cart-row">
                  <td><img class="cart-img" v-bind:src="cartedProduct.product.download_url"></td>
                  <td>
                    <h4> {{ cartedProduct.product.name }}: </h4>
                    <p>{{ cartedProduct.product.description }}</p>
                    <button class="label btn-danger" v-on:click="removeFromCart(0, cartedProduct.id)">Delete Product</button><span class="float-right label label-primary"> Amount in Cart: {{ cartedProduct.amount }}</span>
                  </td>
                  <td><p>${{ cartedProduct.product.price }}</p></td>
                  <td>
                    <!-- <input class="carted-product-amount" v-bind:id="'cartedProduct' + cartedProduct.id" type="number" v-bind:value="cartedProduct.amount"> -->
                    <select v-bind:id="'cartedProduct' + cartedProduct.id" v-on:change="changeCartedAmount(cartedProduct)" class="form-control">
                      <option selected>Update Amount...</option>
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                      <option>6</option>
                      <option>7</option>
                      <option>8</option>
                      <option>9</option>
                      <option>10</option>
                    </select>
                  </td>
                </tr>
              </tbody>
            </table>
            <h2 v-else>No Items in Your Cart</h2>
          </div>
          <div class="col-md-3">
            <h3 class="cart-header">Cart Total:</h3>
            <div class="cart-total shadow">
              <h4 class="subtotal">Subtotal ({{cart.carted_products.length}} items): <span class="total-text">${{ cart.total }}</span></h4>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>


<template id="signup-page">
  <div class="vue-component">
    <section class="section">
      <div class="container">
        <h1>Signup</h1>
        <ul>
          <li class="text-danger" v-for="error in errors">{{ error }}</li>
        </ul>
        <div class="form-group">
          <label>Name:</label> 
          <input type="text" class="form-control" v-model="name">
        </div>
        <div class="form-group">
          <label>Email:</label>
          <input type="email" class="form-control" v-model="email">
        </div>
        <div class="form-group">
          <label>Password:</label>
          <input type="password" class="form-control" v-model="password">
        </div>
        <div class="form-group">
          <label>Password confirmation:</label>
          <input type="password" class="form-control" v-model="passwordConfirmation">
        </div>
        <button class="btn btn-primary" v-on:click="submit()">Submit</button>
      </div>
    </section>
  </div>
</template>



